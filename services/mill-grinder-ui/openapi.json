{
  "openapi": "3.1.0",
  "info": {
    "title": "Mill Metadata Service API",
    "description": "REST API for faceted metadata management with scope support",
    "contact": {
      "name": "Mill Team",
      "email": "support@qpointz.io"
    },
    "license": {
      "name": "Proprietary",
      "url": "https://qpointz.io"
    },
    "version": "v1"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "Facets",
      "description": "Scope-aware facet management endpoints"
    },
    {
      "name": "Metadata",
      "description": "Metadata entity CRUD operations"
    },
    {
      "name": "Schema Explorer",
      "description": "Schema exploration, search, and navigation endpoints"
    }
  ],
  "paths": {
    "/services/jet/SubmitQuery": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "submitQuery",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/services/jet/ParseSql": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "parseSql",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/services/jet/ListSchemas": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "listSchemas",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/services/jet/Handshake": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "handshake",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/services/jet/GetSchema": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "getSchema",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/services/jet/FetchQueryResult": {
      "post": {
        "tags": [
          "access-service-controller"
        ],
        "operationId": "fetchQueryResult",
        "parameters": [
          {
            "name": "Accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          },
          {
            "name": "Content-Type",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "default": "application/json"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            },
            "application/x-protobuf": {
              "schema": {
                "type": "string",
                "format": "byte"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              },
              "application/x-protobuf": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/nl2sql/chats": {
      "get": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "operationId": "listChats",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Chat"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "summary": "Creates new chat",
        "operationId": "createChat",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Chat"
                }
              }
            }
          }
        }
      }
    },
    "/api/nl2sql/chats/{chatId}/messages": {
      "get": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "operationId": "listChatMessages",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessage"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "operationId": "postChatMessages",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendChatMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessage"
                }
              }
            }
          }
        }
      }
    },
    "/api/nl2sql/chats/{chatId}": {
      "get": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "operationId": "getChat",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Chat"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "summary": "Deletes chat chat",
        "operationId": "deleteChat",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "204": {
            "description": "No Content"
          }
        }
      },
      "patch": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "summary": "Updates chat",
        "operationId": "updateChat",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Chat"
                }
              }
            }
          }
        }
      }
    },
    "/api/nl2sql/chats/{chatId}/stream": {
      "get": {
        "tags": [
          "nl-sql-chat-controller"
        ],
        "operationId": "chatStream",
        "parameters": [
          {
            "name": "chatId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Not Found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "200": {
            "description": "OK",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ServerSentEventObject"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/schemas/{schema}/tables/{table}": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get table by location",
        "description": "Retrieves a table metadata entity by schema and table name",
        "operationId": "getTable",
        "parameters": [
          {
            "name": "schema",
            "in": "path",
            "description": "Schema name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta"
          },
          {
            "name": "table",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "clients"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Table found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          },
          "404": {
            "description": "Table not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/schemas/{schema}/tables/{table}/attributes/{attribute}": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get attribute by location",
        "description": "Retrieves an attribute (column) metadata entity by its hierarchical location",
        "operationId": "getAttribute",
        "parameters": [
          {
            "name": "schema",
            "in": "path",
            "description": "Schema name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta"
          },
          {
            "name": "table",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "clients"
          },
          {
            "name": "attribute",
            "in": "path",
            "description": "Attribute name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "id"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Attribute found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          },
          "404": {
            "description": "Attribute not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/facets/entities/{entityId}/types/{facetType}": {
      "get": {
        "tags": [
          "Facets"
        ],
        "summary": "Get merged facet",
        "description": "Retrieves a facet merged from multiple scopes (user \u003E team \u003E role \u003E global) for the specified user context",
        "operationId": "getMergedFacet",
        "parameters": [
          {
            "name": "entityId",
            "in": "path",
            "description": "Entity ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "facetType",
            "in": "path",
            "description": "Facet type",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "descriptive"
          },
          {
            "name": "userId",
            "in": "query",
            "description": "User ID for user-scoped facets",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "alice@company.com"
          },
          {
            "name": "teams",
            "in": "query",
            "description": "List of team names for team-scoped facets",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "example": "engineering"
          },
          {
            "name": "roles",
            "in": "query",
            "description": "List of role names for role-scoped facets",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "example": "admin"
          }
        ],
        "responses": {
          "200": {
            "description": "Merged facet found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          },
          "404": {
            "description": "Entity or facet not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/facets/entities/{entityId}/types/{facetType}/scopes/{scope}": {
      "get": {
        "tags": [
          "Facets"
        ],
        "summary": "Get facet by scope",
        "description": "Retrieves a facet for a specific scope (e.g., global, user:alice@company.com, team:engineering)",
        "operationId": "getFacetByScope",
        "parameters": [
          {
            "name": "entityId",
            "in": "path",
            "description": "Entity ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "facetType",
            "in": "path",
            "description": "Facet type",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "descriptive"
          },
          {
            "name": "scope",
            "in": "path",
            "description": "Scope (e.g., global, user:alice@company.com)",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Facet found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          },
          "404": {
            "description": "Entity or facet not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/explorer/tree": {
      "get": {
        "tags": [
          "Schema Explorer"
        ],
        "summary": "Get schema tree",
        "description": "Retrieves a hierarchical tree structure of schemas and tables, optionally filtered by schema",
        "operationId": "getTree",
        "parameters": [
          {
            "name": "schema",
            "in": "query",
            "description": "Filter by schema name",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "moneta"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Tree structure",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TreeNodeDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/explorer/search": {
      "get": {
        "tags": [
          "Schema Explorer"
        ],
        "summary": "Search metadata",
        "description": "Searches metadata entities by query string, optionally filtered by type",
        "operationId": "search",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query string",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "client"
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by metadata type (e.g., TABLE, ATTRIBUTE)",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "TABLE"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Search results",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResultDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/explorer/lineage": {
      "get": {
        "tags": [
          "Schema Explorer"
        ],
        "summary": "Get data lineage",
        "description": "Retrieves data lineage information for a table, showing upstream and downstream dependencies",
        "operationId": "getLineage",
        "parameters": [
          {
            "name": "table",
            "in": "query",
            "description": "Table fully qualified name",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "depth",
            "in": "query",
            "description": "Lineage traversal depth (default: 1)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            },
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Lineage information",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {

                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/entities": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "List all entities",
        "description": "Retrieves all metadata entities, optionally filtered by type",
        "operationId": "getEntities",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Filter by metadata type (e.g., TABLE, ATTRIBUTE)",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "TABLE"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "List of entities",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/entities/{id}": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get entity by ID",
        "description": "Retrieves a metadata entity by its unique identifier with optional scope filtering",
        "operationId": "getEntityById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Entity ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet merging (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Entity found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataEntityDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/entities/{id}/facets/{facetType}": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get facet by type",
        "description": "Retrieves a specific facet for an entity by facet type and scope",
        "operationId": "getFacet",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Entity ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "facetType",
            "in": "path",
            "description": "Facet type (e.g., descriptive, structural, value-mapping)",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "descriptive"
          },
          {
            "name": "scope",
            "in": "query",
            "description": "Scope for facet (default: global)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "global"
            },
            "example": "global"
          }
        ],
        "responses": {
          "200": {
            "description": "Facet found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          },
          "404": {
            "description": "Entity or facet not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FacetDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/v1/entities/{id}/facets/{facetType}/scopes": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get facet scopes",
        "description": "Retrieves all available scopes for a specific facet type on an entity",
        "operationId": "getFacetScopes",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Entity ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "moneta.clients"
          },
          {
            "name": "facetType",
            "in": "path",
            "description": "Facet type",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "descriptive"
          }
        ],
        "responses": {
          "200": {
            "description": "List of scopes",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "uniqueItems": true
                }
              }
            }
          },
          "404": {
            "description": "Entity not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "uniqueItems": true
                }
              }
            }
          }
        }
      }
    },
    "/.well-known/mill": {
      "get": {
        "tags": [
          "application-descriptor-controller"
        ],
        "operationId": "getInfo",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApplicationDescriptor"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ContentDisposition": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "filename": {
            "type": "string"
          },
          "charset": {
            "type": "string"
          },
          "size": {
            "type": "integer",
            "format": "int64",
            "deprecated": true
          },
          "creationDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "modificationDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "readDate": {
            "type": "string",
            "format": "date-time",
            "deprecated": true
          },
          "inline": {
            "type": "boolean"
          },
          "formData": {
            "type": "boolean"
          },
          "attachment": {
            "type": "boolean"
          }
        }
      },
      "DefaultHttpStatusCode": {
        "allOf": [
          {
            "$ref": "#/components/schemas/HttpStatusCode"
          }
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "properties": {
              "origin": {
                "type": "string"
              },
              "contentType": {
                "$ref": "#/components/schemas/MediaType"
              },
              "host": {
                "type": "object",
                "properties": {
                  "hostString": {
                    "type": "string"
                  },
                  "address": {
                    "type": "object",
                    "properties": {
                      "hostAddress": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string",
                        "format": "byte"
                      },
                      "hostName": {
                        "type": "string"
                      },
                      "linkLocalAddress": {
                        "type": "boolean"
                      },
                      "multicastAddress": {
                        "type": "boolean"
                      },
                      "anyLocalAddress": {
                        "type": "boolean"
                      },
                      "loopbackAddress": {
                        "type": "boolean"
                      },
                      "siteLocalAddress": {
                        "type": "boolean"
                      },
                      "mcglobal": {
                        "type": "boolean"
                      },
                      "mcnodeLocal": {
                        "type": "boolean"
                      },
                      "mclinkLocal": {
                        "type": "boolean"
                      },
                      "mcsiteLocal": {
                        "type": "boolean"
                      },
                      "mcorgLocal": {
                        "type": "boolean"
                      },
                      "canonicalHostName": {
                        "type": "string"
                      }
                    }
                  },
                  "port": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "unresolved": {
                    "type": "boolean"
                  },
                  "hostName": {
                    "type": "string"
                  }
                }
              },
              "empty": {
                "type": "boolean"
              },
              "location": {
                "type": "string",
                "format": "uri"
              },
              "all": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "writeOnly": true
              },
              "lastModified": {
                "type": "integer",
                "format": "int64"
              },
              "date": {
                "type": "integer",
                "format": "int64"
              },
              "contentLength": {
                "type": "integer",
                "format": "int64"
              },
              "ifModifiedSince": {
                "type": "integer",
                "format": "int64"
              },
              "connection": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "range": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpRange"
                }
              },
              "contentDisposition": {
                "$ref": "#/components/schemas/ContentDisposition"
              },
              "acceptCharset": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "bearerAuth": {
                "type": "string",
                "writeOnly": true
              },
              "accept": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MediaType"
                }
              },
              "allow": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpMethod"
                },
                "uniqueItems": true
              },
              "cacheControl": {
                "type": "string"
              },
              "contentLanguage": {
                "type": "string"
              },
              "etag": {
                "type": "string"
              },
              "acceptLanguageAsLocales": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlAllowCredentials": {
                "type": "boolean"
              },
              "accessControlAllowMethods": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/HttpMethod"
                }
              },
              "accessControlAllowOrigin": {
                "type": "string"
              },
              "accessControlExposeHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlMaxAge": {
                "type": "integer",
                "format": "int64"
              },
              "accessControlAllowHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlRequestHeaders": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "accessControlRequestMethod": {
                "$ref": "#/components/schemas/HttpMethod"
              },
              "ifUnmodifiedSince": {
                "type": "integer",
                "format": "int64"
              },
              "acceptLanguage": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "range": {
                      "type": "string"
                    },
                    "weight": {
                      "type": "number",
                      "format": "double"
                    }
                  }
                }
              },
              "basicAuth": {
                "type": "string",
                "writeOnly": true
              },
              "acceptPatch": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MediaType"
                }
              },
              "vary": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "ifMatch": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "upgrade": {
                "type": "string"
              },
              "pragma": {
                "type": "string"
              },
              "expires": {
                "type": "integer",
                "format": "int64"
              },
              "ifNoneMatch": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "statusCode": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/DefaultHttpStatusCode"
              },
              {
                "$ref": "#/components/schemas/HttpStatus"
              }
            ]
          },
          "body": {
            "$ref": "#/components/schemas/ProblemDetail"
          },
          "detailMessageCode": {
            "type": "string"
          },
          "detailMessageArguments": {
            "type": "array",
            "items": {

            }
          },
          "titleMessageCode": {
            "type": "string"
          },
          "typeMessageCode": {
            "type": "string"
          }
        }
      },
      "HttpMethod": {

      },
      "HttpRange": {

      },
      "HttpStatus": {
        "allOf": [
          {
            "$ref": "#/components/schemas/HttpStatusCode"
          }
        ],
        "enum": [
          "100 CONTINUE",
          "101 SWITCHING_PROTOCOLS",
          "102 PROCESSING",
          "103 EARLY_HINTS",
          "103 CHECKPOINT",
          "200 OK",
          "201 CREATED",
          "202 ACCEPTED",
          "203 NON_AUTHORITATIVE_INFORMATION",
          "204 NO_CONTENT",
          "205 RESET_CONTENT",
          "206 PARTIAL_CONTENT",
          "207 MULTI_STATUS",
          "208 ALREADY_REPORTED",
          "226 IM_USED",
          "300 MULTIPLE_CHOICES",
          "301 MOVED_PERMANENTLY",
          "302 FOUND",
          "302 MOVED_TEMPORARILY",
          "303 SEE_OTHER",
          "304 NOT_MODIFIED",
          "305 USE_PROXY",
          "307 TEMPORARY_REDIRECT",
          "308 PERMANENT_REDIRECT",
          "400 BAD_REQUEST",
          "401 UNAUTHORIZED",
          "402 PAYMENT_REQUIRED",
          "403 FORBIDDEN",
          "404 NOT_FOUND",
          "405 METHOD_NOT_ALLOWED",
          "406 NOT_ACCEPTABLE",
          "407 PROXY_AUTHENTICATION_REQUIRED",
          "408 REQUEST_TIMEOUT",
          "409 CONFLICT",
          "410 GONE",
          "411 LENGTH_REQUIRED",
          "412 PRECONDITION_FAILED",
          "413 PAYLOAD_TOO_LARGE",
          "413 REQUEST_ENTITY_TOO_LARGE",
          "414 URI_TOO_LONG",
          "414 REQUEST_URI_TOO_LONG",
          "415 UNSUPPORTED_MEDIA_TYPE",
          "416 REQUESTED_RANGE_NOT_SATISFIABLE",
          "417 EXPECTATION_FAILED",
          "418 I_AM_A_TEAPOT",
          "419 INSUFFICIENT_SPACE_ON_RESOURCE",
          "420 METHOD_FAILURE",
          "421 DESTINATION_LOCKED",
          "422 UNPROCESSABLE_ENTITY",
          "423 LOCKED",
          "424 FAILED_DEPENDENCY",
          "425 TOO_EARLY",
          "426 UPGRADE_REQUIRED",
          "428 PRECONDITION_REQUIRED",
          "429 TOO_MANY_REQUESTS",
          "431 REQUEST_HEADER_FIELDS_TOO_LARGE",
          "451 UNAVAILABLE_FOR_LEGAL_REASONS",
          "500 INTERNAL_SERVER_ERROR",
          "501 NOT_IMPLEMENTED",
          "502 BAD_GATEWAY",
          "503 SERVICE_UNAVAILABLE",
          "504 GATEWAY_TIMEOUT",
          "505 HTTP_VERSION_NOT_SUPPORTED",
          "506 VARIANT_ALSO_NEGOTIATES",
          "507 INSUFFICIENT_STORAGE",
          "508 LOOP_DETECTED",
          "509 BANDWIDTH_LIMIT_EXCEEDED",
          "510 NOT_EXTENDED",
          "511 NETWORK_AUTHENTICATION_REQUIRED"
        ]
      },
      "HttpStatusCode": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean"
          },
          "is4xxClientError": {
            "type": "boolean"
          },
          "is5xxServerError": {
            "type": "boolean"
          },
          "is1xxInformational": {
            "type": "boolean"
          },
          "is2xxSuccessful": {
            "type": "boolean"
          },
          "is3xxRedirection": {
            "type": "boolean"
          }
        }
      },
      "MediaType": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "subtype": {
            "type": "string"
          },
          "parameters": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "qualityValue": {
            "type": "number",
            "format": "double"
          },
          "charset": {
            "type": "string"
          },
          "concrete": {
            "type": "boolean"
          },
          "subtypeSuffix": {
            "type": "string"
          },
          "wildcardSubtype": {
            "type": "boolean"
          },
          "wildcardType": {
            "type": "boolean"
          }
        }
      },
      "ProblemDetail": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "format": "uri"
          },
          "title": {
            "type": "string"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "detail": {
            "type": "string"
          },
          "instance": {
            "type": "string",
            "format": "uri"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {

            }
          }
        }
      },
      "CreateChatRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "Chat": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "isFavorite": {
            "type": "boolean"
          },
          "created": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SendChatMessageRequest": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "content": {
            "type": "object",
            "additionalProperties": {

            }
          }
        }
      },
      "ChatMessage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "message": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "USER",
              "CHAT",
              "SYSTEM"
            ]
          },
          "content": {
            "type": "object",
            "additionalProperties": {

            }
          }
        }
      },
      "UpdateChatRequest": {
        "type": "object",
        "properties": {
          "chatName": {
            "type": "string"
          },
          "isFavorite": {
            "type": "boolean"
          }
        }
      },
      "ServerSentEventObject": {

      },
      "MetadataEntityDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "CATALOG",
              "SCHEMA",
              "TABLE",
              "ATTRIBUTE",
              "CONCEPT"
            ]
          },
          "schemaName": {
            "type": "string"
          },
          "tableName": {
            "type": "string"
          },
          "attributeName": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string"
          },
          "updatedBy": {
            "type": "string"
          },
          "facets": {
            "type": "object",
            "additionalProperties": {

            }
          }
        }
      },
      "FacetDto": {
        "type": "object",
        "properties": {
          "facetType": {
            "type": "string"
          },
          "data": {

          },
          "availableScopes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          }
        }
      },
      "TreeNodeDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "CATALOG",
              "SCHEMA",
              "TABLE",
              "ATTRIBUTE",
              "CONCEPT"
            ]
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TreeNodeDto"
            }
          },
          "hasChildren": {
            "type": "boolean"
          }
        }
      },
      "SearchResultDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "CATALOG",
              "SCHEMA",
              "TABLE",
              "ATTRIBUTE",
              "CONCEPT"
            ]
          },
          "displayName": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "score": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ApplicationDescriptor": {
        "type": "object",
        "properties": {
          "services": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServiceDescriptor"
            }
          },
          "security": {
            "$ref": "#/components/schemas/SecurityDescriptor"
          },
          "schemas": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/SchemaDescriptor"
            }
          }
        }
      },
      "AuthenticationMethodDescriptor": {
        "type": "object",
        "properties": {
          "authType": {
            "type": "string",
            "enum": [
              "CUSTOM",
              "OAUTH2",
              "BASIC"
            ]
          }
        }
      },
      "SchemaDescriptor": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "link": {
            "type": "string",
            "format": "uri"
          }
        }
      },
      "SecurityDescriptor": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "authMethods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AuthenticationMethodDescriptor"
            }
          }
        }
      },
      "ServiceDescriptor": {
        "type": "object",
        "properties": {
          "stereotype": {
            "type": "string"
          }
        }
      }
    }
  }
}